{{/* Apply saved theme before paint to prevent flash of wrong theme */}}
<script>
(function() {
  var theme = localStorage.getItem('krkn-theme') || 'dark';
  document.documentElement.setAttribute('data-theme', theme);
})();
</script>

{{/* Open Graph meta tags for social sharing (Twitter, LinkedIn, Slack) */}}
<meta property="og:image" content="{{ "img/social-preview.png" | absURL }}">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:image:alt" content="Krkn - Chaos Engineering for Kubernetes">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="{{ "img/social-preview.png" | absURL }}">

{{/* Organization + WebSite structured data for Google Search */}}
{{ if .IsHome }}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Organization",
      "name": "Krkn",
      "alternateName": "Krkn-Chaos",
      "url": "https://krkn-chaos.dev",
      "logo": {
        "@type": "ImageObject",
        "url": "https://krkn-chaos.dev/favicons/favicon.svg",
        "width": 250,
        "height": 250
      },
      "image": "https://krkn-chaos.dev/img/social-preview.png",
      "description": "{{ .Site.Params.description }}",
      "sameAs": [
        "https://github.com/krkn-chaos",
        "https://kubernetes.slack.com/archives/C05SFMHRWK1"
      ]
    },
    {
      "@type": "WebSite",
      "name": "Krkn",
      "url": "https://krkn-chaos.dev",
      "description": "{{ .Site.Params.description }}",
      "publisher": {
        "@type": "Organization",
        "name": "Krkn",
        "logo": {
          "@type": "ImageObject",
          "url": "https://krkn-chaos.dev/favicons/favicon.svg"
        }
      }
    }
  ]
}
</script>
{{ end }}
